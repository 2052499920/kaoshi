webpackJsonp([18],{"9vRv":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEDklEQVRoge2ZXagVVRTHf8cURagkEZIioR4sElTwwSB8CUJJ0ZcIH3yQrEDJjzQRkesX1KXbNb8KJKSHkhALerhGD0VUD/UgZKSgQgqiKfhtolcslSX/fVns5pzZc2bO8QjnD8OsNXvttdZ/ZvaetffQRRddNETNGu/Mnt2Ku/QI8ArwFHAS2A9crTpIbWDg3nl41Y6F14BdwKPu2hXgLWBvKwIOa4HPF4E9EQmk71F75aiayEPADp0Nx4A+nUP7TtdeGaomsgiYIvka8BKwWudruj4ZeKOTiYwBNju9Fzgl+ZT0gE2yrwxVElkPjJN8AuiP2vt1Hdmt70QizwJLnP4uMBjZDOo1C1iifpWgKiJbgBGSfwS+rmP3ldqR/UedRMQ+erMk/wesyLF/R3aGmepfGmWJjIjGwqfAHzl9DsouoN89zaZRlshSYKLky0BPYr8e2aP+S+8nEZt51jl9A3DO6detjNNxI+prdhudvs7NeE2hDJH33LfgCPBJ1H7JyRcz+n+sfsiP+Ws7Eft6L3S6DfBbkc15J1/I8HErmhjM35QMuyQ0S2Sbq5esPP8uw8Y/hSwiqN9+yeZvWzuJvArMkGx3dWUdu4t15Bgr3dOcIf+FUZTIKFWzAduBowlELtWxQf23O71PcQqhKBErPSZIPhcViTHyBrvHZjfjTVCclhF5Aljj9LVa9dWDn4rPN7BDfsxfwBrFS0YRIh8AoyXb1/mzHPvUMRJg/g5KHq14lROZDsx3+jJXL9VDkVcL+fNf+PmKm4QUIsO0fK1J3wf8nNAvdbB7/CL/KN6O1JudYrQAmCbZ1hSrEpO6UEfOwyq3lpmm+KWJPBwtUfu0R9VKIiejKb5XeTREHhGbSR6XfDoilYeig92jV/FQ/LV5HRoReSaqhVarok3FoN7zWkb1m4fr0bLY8ni6WSIfAiMl/wZ8WTCZsrB4v8rHyIzNjCQitg81T/Jt4G2tK9qJO5qObyvmPOWVTMT2g7c6/XPgQBMEbB3/t45ZCfZZOKD4AVvr7VdnEXkTmCT5n6gsKYLdwHgdu5v0geKHXfxJyi+XyFjtAgbYqu1siSQCamlmmbD477sGy++x2DAm0iMyhuMl950WKQmbRl8v4Qfl8ZfksVm7lJ7I88Bip9uC52aJ4N/qtXpSchncjCqKxco3k8gWN5B+AL4pGbxqWD7fy+dw5fs/Ii8AL0v+F1jeYSQCVig/lO9QdRyIzHHGXwCH2p5iGg5F0/HcIAQi/l/Fnx2UeBYOu2tDv/fCmPBPwAbVmWip2ikYF+3aDJEKv6fH6D9fqW3LNsNu9MTawMC9RVt4tS5rP6nRZkIn4YryHVp5+rrlJ+A5zdFTXeXbSbDvye/aZz7zAL09XXRxfwHcBUjxz46x8Z47AAAAAElFTkSuQmCC"},"I//P":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("he3m"),s=a.n(l),i={name:"login",data:function(){return{tableData:[],form:{planName:"",candidatesNumber:"",occupationsNumber:"",startDate:"",duration:"",testSources:""},rules:{planName:[{required:!0,message:"计划书名不能为空",trigger:"blur"}],candidatesNumber:[{required:!0,message:"考生人数不能为空",trigger:"blur"}],occupationsNumber:[{required:!0,message:"考试职业数不能为空",trigger:"blur"}],startDate:[{required:!0,message:"开始考试时间不能为空",trigger:"blur"}],duration:[{required:!0,message:"考试时长不能为空",trigger:"blur"}],testSources:[{required:!0,message:"数据来源不能为空",trigger:"blur"}]},formLabelWidth:"120px",testSourcesList:[{id:1,label:"监考上报",value:1},{id:2,label:"考务上报",value:2}],dataList:[{id:1,label:"监考上报",value:1},{id:2,label:"考务上报",value:2}],dialogVisible:!1,search:"",startDate:"",endDate:"",testSources:"",planPhase:"",status:"",pageNo:1,pageSize:5,input:"",tiem:"",datas:"",plan:"",planList:[{id:1,label:"计划上报",value:1},{id:2,label:"计划确认",value:2},{id:3,label:"成绩上报",value:3},{id:4,label:"成绩审核",value:4},{id:5,label:"证书生成",value:5},{id:6,label:"已归档",value:6},{id:7,label:"计划作废",value:7}],ids:[]}},created:function(){this.getQuery()},methods:{addplan:function(){this.dialogVisible=!0},ChangeData:function(){},setDialogform:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message.error("表单填写错误"),!1;e.form.startDate=s()(e.form.startDate).format("YYYY-MM-DD HH:mm:ss"),e.$api.addPlan(e.form).then(function(t){0==t.code&&(e.getQuery(),e.dialogVisible=!1,e.$message.success("创建计划成功"))})})},getQuery:function(){var t=this;this.$api.getQueryPlan({search:this.search,startDate:this.startDate,endDate:this.endDate,testSources:this.testSources,planPhase:this.planPhase,status:this.status,pageNo:this.pageNo,pageSize:this.pageSize}).then(function(e){0==e.code&&(t.tableData=e.data)})},handleEdit:function(t,e){this.$message.warning("功能开发中")},handleDelete:function(t,e){var a=this,l=[];l.push(e.id),this.$confirm("此操作将永久删除该计划, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$api.delPlan(l).then(function(t){0==t.code&&(a.getQuery(),a.$message({type:"success",message:"删除成功!"}))})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSizeChange:function(t){this.pageSize=t,this.getQuery()},handleCurrentChange:function(t){this.pageNo=t,this.getQuery()},searchPlan:function(){var t=this;this.search=this.input,this.tiem&&this.tiem.map(function(e,a){0==a?t.startDate=s()(e).format("YYYY-MM-DD HH:mm:ss"):t.endDate=s()(e).format("YYYY-MM-DD HH:mm:ss")}),this.testSources=this.datas,this.planPhase=this.plan,this.getQuery()},present:function(){var t=this;0==this.ids.length?this.$message.warning("至少选择一个提交"):this.$api.affirmSubmit(this.ids).then(function(e){0==e.code&&(t.$message.success(e.msg),t.ids=[],t.getQuery())})},handleSelectionChange:function(t){var e=[];t.map(function(t){e.push(t.id)}),this.ids=e},selectable:function(t,e){return"未提交"==t.status}},components:{}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"title",staticStyle:{overflow:"hidden","margin-top":"15px"}},[t._v("计划列表")]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"contents",staticStyle:{overflow:"hidden","margin-top":"10px"}},[a("div",{staticClass:"names"},[a("div",{staticClass:"title"},[t._v("计划名称：")]),t._v(" "),a("div",{staticStyle:{width:"120px"}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)]),t._v(" "),a("div",{staticClass:"names"},[a("div",{staticClass:"title"},[t._v("考试时间：")]),t._v(" "),a("div",[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},model:{value:t.tiem,callback:function(e){t.tiem=e},expression:"tiem"}})],1)]),t._v(" "),a("div",{staticClass:"names"},[a("div",{staticClass:"title"},[t._v("数据来源:")]),t._v(" "),a("div",{staticStyle:{width:"150px"}},[a("el-select",{staticStyle:{"margin-left":"15px"},attrs:{size:"small",placeholder:"选择来源"},model:{value:t.datas,callback:function(e){t.datas=e},expression:"datas"}},t._l(t.dataList,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),a("div",{staticClass:"names"},[a("div",{staticClass:"title"},[t._v("计划阶段:")]),t._v(" "),a("div",{staticStyle:{width:"150px"}},[a("el-select",{staticStyle:{"margin-left":"15px"},attrs:{size:"small",placeholder:"选择计划"},model:{value:t.plan,callback:function(e){t.plan=e},expression:"plan"}},t._l(t.planList,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),a("div",{staticClass:"btnSearch"},[a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.searchPlan}},[t._v("搜索")])],1)]),t._v(" "),a("div",{staticStyle:{overflow:"hidden","margin-top":"10px"}},[a("div",{staticClass:"button",on:{click:t.present}},[t._v("确认提交")])]),t._v(" "),a("div",{staticStyle:{padding:"20px 0 0 20px"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData.rows,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",selectable:t.selectable,width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"计划名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.planName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"考生人数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.candidatesNumber))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"考试职业数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.occupationsNumber))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"数据来源",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.testSources))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"计划阶段",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.planPhase))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.status))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开考时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.startDate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"page-sizes":[5,10,15],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"创建计划",visible:t.dialogVisible,width:"40%","destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"计划名称：","label-width":t.formLabelWidth,prop:"planName"}},[a("el-input",{attrs:{placeholder:"请输入计划名称"},model:{value:t.form.planName,callback:function(e){t.$set(t.form,"planName",e)},expression:"form.planName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"考生人数：","label-width":t.formLabelWidth,prop:"candidatesNumber"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入考生人数"},model:{value:t.form.candidatesNumber,callback:function(e){t.$set(t.form,"candidatesNumber",e)},expression:"form.candidatesNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"考试职业数：","label-width":t.formLabelWidth,prop:"occupationsNumber"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入考试职业数"},model:{value:t.form.occupationsNumber,callback:function(e){t.$set(t.form,"occupationsNumber",e)},expression:"form.occupationsNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"数据来源：","label-width":t.formLabelWidth,prop:"testSources"}},[a("el-select",{staticStyle:{"margin-left":"15px"},attrs:{placeholder:"请选择数据来源"},on:{change:t.ChangeData},model:{value:t.form.testSources,callback:function(e){t.$set(t.form,"testSources",e)},expression:"form.testSources"}},t._l(t.testSourcesList,function(t){return a("el-option",{key:t.id,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"开始考试时间：","label-width":t.formLabelWidth,prop:"startDate"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.form.startDate,callback:function(e){t.$set(t.form,"startDate",e)},expression:"form.startDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"考试时长：","label-width":t.formLabelWidth,prop:"duration"}},[a("el-input",{attrs:{placeholder:"考试时长"},model:{value:t.form.duration,callback:function(e){t.$set(t.form,"duration",e)},expression:"form.duration"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.setDialogform("ruleForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top_title"},[this._v("\n    当前位置：备案管理-"),e("a",{staticStyle:{cursor:"pointer"}},[this._v("计划管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top_title",staticStyle:{"margin-top":"15px"}},[e("img",{staticClass:"warning_icon",attrs:{src:a("9vRv"),alt:""}}),this._v(" "),e("div",{staticStyle:{float:"left","margin-left":"20px"}},[e("p",{staticClass:"warning_text"},[this._v("\n        1.数据来源为“考务上报”的计划。若要查询“考前”“考中”的信息，请到考务系统查看，本页仅展示“考务中”的计划\n      ")]),this._v(" "),e("p",{staticClass:"warning_text"},[this._v("\n        2.数据来源为监管上报的计划，可在本系统查看“考前”“考后的”数据\n      ")])])])}]};var r=a("C7Lr")(i,n,!1,function(t){a("a6UJ")},"data-v-d1859bfe",null);e.default=r.exports},a6UJ:function(t,e){}});
//# sourceMappingURL=18.b3dd57f001ebce7318bd.js.map