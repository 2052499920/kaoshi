webpackJsonp([21],{Q7qi:function(t,e){},bwVf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("a3Yh"),s=a.n(i),n={name:"login",data:function(){var t;return t={tableData:[],list:[{name:"工作方案",value:1},{name:"场地情况",value:2},{name:"设备设施情况",value:3},{name:"法人登记证书",value:4},{name:"题库建设情况",value:5},{name:"人员技术技能情况",value:6},{name:"管理制度",value:7},{name:"央企备案回执",value:8},{name:"专业优势",value:9},{name:"信息化建设情况",value:10},{name:"监控设备配置情况",value:11},{name:"职业技能等级认定工作承诺书",value:12},{name:"备案机构郑虎样板、印章样式",value:13}]},s()(t,"tableData",[]),s()(t,"pageNo","1"),s()(t,"pageSize","5"),s()(t,"geshi",["bmp","jpg","png","tif","gif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp","avif"]),s()(t,"urla",a("ctTX")),s()(t,"urlb",a("ctTX")),s()(t,"urlc",a("ctTX")),s()(t,"urld",a("ctTX")),t},created:function(){var t=this;this.getSchemeList(),this.$api.checkSubmitReview().then(function(e){e.data.oCount>0&&(t.urla=a("1MyU")),e.data.JobCount>0&&(t.urlb=a("1MyU")),e.data.personnelCount>=4&&(t.urlc=a("1MyU")),e.data.programmeCount>=10&&(t.urld=a("1MyU"))})},methods:{addProfession:function(){var t=this;this.$api.submitReview().then(function(e){0==e.code?t.$message.success("提交成功"):t.$message.error(e.msg)})},add:function(){var t=this;this.$api.submitReview().then(function(e){0==e.code?(t.$message.success(e.msg),t.$router.replace("/")):t.$message.error(e.msg)})},lastStep:function(){this.$router.push("team_info")},hander:function(t){this.$router.push("/data_upload"),localStorage.setItem("material",t)},getSchemeList:function(){var t=this;this.$api.getScheme({pageNo:this.pageNo,pageSize:this.pageSize}).then(function(e){0==e.code&&(t.tableData=e.data)})},handleUplload:function(t,e){if(this.geshi.some(function(t){return t==e.planName.slice(e.planName.lastIndexOf(".")+1)}))this.downloadIamge(e.fileAddress,e.planName);else{var a=document.createElement("a");a.setAttribute("download",""),a.setAttribute("href",e.fileAddress),a.click()}},downloadIamge:function(t,e){var a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){var t=document.createElement("canvas");t.width=a.width,t.height=a.height,t.getContext("2d").drawImage(a,0,0,a.width,a.height);var i=t.toDataURL("image/png"),s=document.createElement("a"),n=new MouseEvent("click");s.download=e||"photo",s.href=i,s.dispatchEvent(n)},a.src=t},handleDelete:function(t,e){var a=this,i=[];i.push(e.id),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$api.delProgramme(i).then(function(t){}),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSizeChange:function(t){this.pageSize=t,this.getSchemeList()},handleCurrentChange:function(t){this.pageNo=t,this.getSchemeList()}},components:{}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"relative",height:"100%"}},[t._m(0),t._v(" "),i("div",{staticStyle:{overflow:"hidden",width:"90%",margin:"50px auto"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{staticClass:"center_box",attrs:{span:6}},[i("router-link",{staticClass:"item_box",attrs:{to:"/record_info"}},[i("div",{staticStyle:{overflow:"hidden"}},[i("span",{staticClass:"item_box_text"},[t._v("基本信息")]),t._v(" "),i("img",{staticClass:"item_icon",attrs:{src:t.urla,alt:""}})])])],1),t._v(" "),i("el-col",{staticClass:"center_box",attrs:{span:6}},[i("router-link",{staticClass:"item_box",attrs:{to:"/add_career"}},[i("div",{staticStyle:{overflow:"hidden"}},[i("span",{staticClass:"item_box_text"},[t._v("职业信息")]),t._v(" "),i("img",{staticClass:"item_icon",attrs:{src:t.urlb,alt:""}})])]),t._v(" "),i("img",{staticStyle:{position:"absolute",right:"0"},attrs:{src:a("JSah"),alt:""}})],1),t._v(" "),i("el-col",{staticClass:"center_box",attrs:{span:6}},[i("router-link",{staticClass:"item_box",attrs:{to:"/team_info"}},[i("div",{staticStyle:{overflow:"hidden"}},[i("span",{staticClass:"item_box_text"},[t._v("人员队伍信息")]),t._v(" "),i("img",{staticClass:"item_icon",attrs:{src:t.urlc,alt:""}})])]),t._v(" "),i("img",{staticStyle:{position:"absolute",right:"0"},attrs:{src:a("JSah"),alt:""}})],1),t._v(" "),i("el-col",{staticClass:"center_box",attrs:{span:6}},[i("router-link",{staticClass:"item_box",staticStyle:{"background-color":"#EDEDED"},attrs:{to:"/newPlan"}},[i("div",{staticStyle:{overflow:"hidden"}},[i("span",{staticClass:"item_box_text"},[t._v("方案和资料上传")]),t._v(" "),i("img",{staticClass:"item_icon",attrs:{src:t.urld,alt:""}})])])],1)],1)],1),t._v(" "),i("div",{staticStyle:{overflow:"hidden"}},[i("el-dropdown",{attrs:{trigger:"click",size:"mini"},on:{command:t.hander}},[i("div",{staticClass:"button"},[t._v("上传 "),i("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.list,function(e,a){return i("el-dropdown-item",{key:a,attrs:{command:e.value}},[t._v(t._s(e.name))])}),1)],1)],1),t._v(" "),i("div",{staticStyle:{margin:"20px auto",width:"100%"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.rows}},[i("el-table-column",{attrs:{label:"名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.planName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"类别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.certificatesType))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.handleUplload(e.$index,e.row)}}},[t._v("下载")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("div",{staticClass:"page"},[i("el-pagination",{attrs:{"page-sizes":[5,10,15],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),i("div",{staticClass:"bottom_box center_box"},[i("div",{staticStyle:{width:"300px",height:"100%",overflow:"hidden"}},[i("div",{staticClass:"back_but",on:{click:t.lastStep}},[t._v("上一步")]),t._v(" "),i("div",{staticClass:"back_but bottom_but_right",on:{click:t.add}},[t._v("提交")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top_title"},[this._v("\n    当前位置：职业管理-"),e("a",{staticStyle:{cursor:"pointer"}},[this._v("我的职业")]),this._v("-方案\n  ")])}]};var l=a("C7Lr")(n,o,!1,function(t){a("Q7qi")},"data-v-e97b8452",null);e.default=l.exports}});
//# sourceMappingURL=21.d353cfc0d45bcf820e26.js.map