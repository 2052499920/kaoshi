{"version":3,"sources":["webpack:///src/pages/newPlan.vue","webpack:///./src/pages/newPlan.vue?f8d7","webpack:///./src/pages/newPlan.vue"],"names":["newPlan","name","data","_ref","tableData","list","value","defineProperty_default","__webpack_require__","created","_this","this","getSchemeList","$api","checkSubmitReview","then","res","oCount","urla","JobCount","urlb","personnelCount","urlc","programmeCount","urld","methods","addProfession","_this2","submitReview","code","$message","success","error","msg","add","_this3","$router","replace","lastStep","push","hander","val","localStorage","setItem","_this4","getScheme","pageNo","pageSize","handleUplload","index","row","geshi","some","item","planName","slice","lastIndexOf","downloadIamge","fileAddress","a","document","createElement","setAttribute","click","imgsrc","image","Image","onload","canvas","width","height","getContext","drawImage","url","toDataURL","event","MouseEvent","download","href","dispatchEvent","src","handleDelete","_this5","ids","id","$confirm","confirmButtonText","cancelButtonText","type","delProgramme","message","catch","handleSizeChange","handleCurrentChange","components","pages_newPlan","render","_vm","_h","$createElement","_c","_self","staticStyle","position","_m","_v","overflow","margin","attrs","gutter","staticClass","span","to","alt","right","background-color","trigger","size","on","command","slot","_l","key","_s","rows","label","align","scopedSlots","_u","fn","scope","margin-left","certificatesType","$event","$index","page-sizes","page-size","layout","total","size-change","current-change","staticRenderFns","cursor","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.d353cfc0d45bcf820e26.js","sourcesContent":["<!-- 登录界面 -->\r\n<template>\r\n  <div style=\"position: relative; height: 100%\">\r\n    <div class=\"top_title\">\r\n      当前位置：职业管理-<a style=\"cursor: pointer\">我的职业</a>-方案\r\n    </div>\r\n    <div style=\"overflow: hidden; width: 90%; margin: 50px auto\">\r\n           <el-row :gutter=\"20\">\r\n        <el-col :span=\"6\" class=\"center_box\">\r\n          <router-link\r\n            to=\"/record_info\"\r\n            class=\"item_box\"\r\n          >\r\n            <div style=\"overflow: hidden\">\r\n              <span class=\"item_box_text\">基本信息</span>\r\n              <img :src=\"urla\" class=\"item_icon\" alt=\"\" />\r\n            </div>\r\n          </router-link>\r\n        </el-col>\r\n        <el-col :span=\"6\" class=\"center_box\">\r\n          <router-link to=\"/add_career\" class=\"item_box\" >\r\n            <div style=\"overflow: hidden\">\r\n              <span class=\"item_box_text\">职业信息</span>\r\n              <img :src=\"urlb\" class=\"item_icon\" alt=\"\" />\r\n            </div>\r\n          </router-link>\r\n          <img\r\n            src=\"../assets/jiantou.png\"\r\n            style=\"position: absolute; right: 0\"\r\n            alt=\"\"\r\n          />\r\n        </el-col>\r\n        <el-col :span=\"6\" class=\"center_box\">\r\n          <router-link to=\"/team_info\" class=\"item_box\">\r\n            <div style=\"overflow: hidden\">\r\n              <span class=\"item_box_text\">人员队伍信息</span>\r\n              <img :src=\"urlc\" class=\"item_icon\" alt=\"\" />\r\n            </div>\r\n          </router-link>\r\n          <img\r\n            src=\"../assets/jiantou.png\"\r\n            style=\"position: absolute; right: 0\"\r\n            alt=\"\"\r\n          />\r\n        </el-col>\r\n        <el-col :span=\"6\" class=\"center_box\">\r\n          <router-link to=\"/newPlan\" class=\"item_box\" style=\"background-color: #EDEDED\">\r\n            <div style=\"overflow: hidden\">\r\n              <span class=\"item_box_text\">方案和资料上传</span>\r\n              <img :src=\"urld\" class=\"item_icon\" alt=\"\" />\r\n            </div>\r\n          </router-link>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <div style=\"overflow: hidden\">\r\n      <el-dropdown trigger=\"click\" size=\"mini\" @command=\"hander\">\r\n        <div class=\"button\">上传 <i class=\"el-icon-caret-bottom\"></i></div>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item\r\n            v-for=\"(item, index) in list\"\r\n            :key=\"index\"\r\n            :command=\"item.value\"\r\n            >{{ item.name }}</el-dropdown-item\r\n          >\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </div>\r\n    <div style=\"margin: 20px auto; width: 100%\">\r\n      <el-table :data=\"tableData.rows\" style=\"width: 100%\">\r\n        <el-table-column label=\"名称\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span style=\"margin-left: 10px\">{{ scope.row.planName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"类别\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span style=\"margin-left: 10px\">{{\r\n              scope.row.certificatesType\r\n            }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"操作\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"mini\"\r\n              @click=\"handleUplload(scope.$index, scope.row)\"\r\n              >下载</el-button\r\n            >\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n              >删除</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"page\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :page-sizes=\"[5, 10, 15]\"\r\n          :page-size=\"5\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"tableData.total\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bottom_box center_box\">\r\n      <div style=\"width: 300px; height: 100%; overflow: hidden\">\r\n        <div class=\"back_but\" @click=\"lastStep\">上一步</div>\r\n        <div class=\"back_but bottom_but_right\" @click=\"add\">提交</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style type=\"text/css\" scoped>\r\n@import \"../assets/css/add_career.css\";\r\n.page {\r\n  text-align: right;\r\n  margin: 15px 50px 10px 0;\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      list: [\r\n        { name: \"工作方案\", value: 1 },\r\n        { name: \"场地情况\", value: 2 },\r\n        { name: \"设备设施情况\", value: 3 },\r\n        { name: \"法人登记证书\", value: 4 },\r\n        { name: \"题库建设情况\", value: 5 },\r\n        { name: \"人员技术技能情况\", value: 6 },\r\n        { name: \"管理制度\", value: 7 },\r\n        { name: \"央企备案回执\", value: 8 },\r\n        { name: \"专业优势\", value: 9 },\r\n        { name: \"信息化建设情况\", value: 10 },\r\n        { name: \"监控设备配置情况\", value: 11 },\r\n        { name: \"职业技能等级认定工作承诺书\", value: 12 },\r\n        { name: \"备案机构郑虎样板、印章样式\", value: 13 },\r\n      ],\r\n      tableData: [],\r\n      pageNo: \"1\",\r\n      pageSize: \"5\",\r\n      geshi: [\r\n        \"bmp\",\r\n        \"jpg\",\r\n        \"png\",\r\n        \"tif\",\r\n        \"gif\",\r\n        \"pcx\",\r\n        \"tga\",\r\n        \"exif\",\r\n        \"fpx\",\r\n        \"svg\",\r\n        \"psd\",\r\n        \"cdr\",\r\n        \"pcd\",\r\n        \"dxf\",\r\n        \"ufo\",\r\n        \"eps\",\r\n        \"ai\",\r\n        \"raw\",\r\n        \"WMF\",\r\n        \"webp\",\r\n        \"avif\",\r\n      ],\r\n                        urla: require(\"../assets/cha.jpg\"),\r\n      urlb: require(\"../assets/cha.jpg\"),\r\n      urlc: require(\"../assets/cha.jpg\"),\r\n      urld: require(\"../assets/cha.jpg\"),\r\n    };\r\n  },\r\n  created() {\r\n    this.getSchemeList();\r\n            this.$api.checkSubmitReview().then((res) => {\r\n      // console.log(res.data);\r\n      if (res.data.oCount > 0) {\r\n        this.urla = require(\"../assets/chas.jpg\");\r\n      }\r\n      if (res.data.JobCount > 0) {\r\n        this.urlb = require(\"../assets/chas.jpg\");\r\n      }\r\n      if (res.data.personnelCount >= 4) {\r\n        this.urlc = require(\"../assets/chas.jpg\");\r\n      }\r\n      if (res.data.programmeCount >= 10) {\r\n        this.urld = require(\"../assets/chas.jpg\");\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    addProfession() {\r\n      // this.$router.push(\"/data_upload\");\r\n      this.$api.submitReview().then((res) => {\r\n        // console.log(res);\r\n        if (res.code == 0) {\r\n          this.$message.success(\"提交成功\");\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      });\r\n    },\r\n    add() {  //提交\r\n      // this.$router.push(\"/data_upload\");\r\n      // console.log(111);\r\n      this.$api.submitReview().then(res=>{\r\n        // console.log(res);\r\n        if(res.code == 0){\r\n          this.$message.success(res.msg)\r\n          this.$router.replace('/')\r\n        }else{\r\n          this.$message.error(res.msg)\r\n        }\r\n      })\r\n    },\r\n\r\n    lastStep() {\r\n      this.$router.push(\"team_info\");\r\n    },\r\n    hander(val) {\r\n      // console.log(val);\r\n      this.$router.push(\"/data_upload\");\r\n      localStorage.setItem(\"material\", val);\r\n    },\r\n    getSchemeList() {\r\n      this.$api\r\n        .getScheme({\r\n          pageNo: this.pageNo,\r\n          pageSize: this.pageSize,\r\n        })\r\n        .then((res) => {\r\n          if (res.code == 0) {\r\n            this.tableData = res.data;\r\n          }\r\n          // console.log(res);\r\n        });\r\n    },\r\n    handleUplload(index, row) {\r\n      //下载\r\n      // console.log(index, row);\r\n      let flag = this.geshi.some((item) => {\r\n        return item == row.planName.slice(row.planName.lastIndexOf(\".\") + 1);\r\n      });\r\n      // console.log(flag);\r\n      if (flag) {\r\n        this.downloadIamge(row.fileAddress, row.planName);\r\n      } else {\r\n        const a = document.createElement(\"a\"); // 创建a标签\r\n        a.setAttribute(\"download\", \"\"); // download属性\r\n        a.setAttribute(\"href\", row.fileAddress); // href链接\r\n        a.click(); // 自执行点击事件\r\n      }\r\n    },\r\n    downloadIamge(imgsrc, name) {\r\n      //下载图片地址和图片名\r\n      let image = new Image();\r\n      // 解决跨域 Canvas 污染问题\r\n      image.setAttribute(\"crossOrigin\", \"anonymous\");\r\n      image.onload = function () {\r\n        let canvas = document.createElement(\"canvas\");\r\n        canvas.width = image.width;\r\n        canvas.height = image.height;\r\n        let context = canvas.getContext(\"2d\");\r\n        context.drawImage(image, 0, 0, image.width, image.height);\r\n        let url = canvas.toDataURL(\"image/png\"); //得到图片的base64编码数据\r\n        let a = document.createElement(\"a\"); // 生成一个a元素\r\n        let event = new MouseEvent(\"click\"); // 创建一个单击事件\r\n        a.download = name || \"photo\"; // 设置图片名称\r\n        a.href = url; // 将生成的URL设置为a.href属性\r\n        a.dispatchEvent(event); // 触发a的单击事件\r\n      };\r\n      image.src = imgsrc;\r\n    },\r\n\r\n    handleDelete(index, row) {\r\n      //删除\r\n      var ids = [];\r\n      ids.push(row.id);\r\n      // console.log(index, row);\r\n      this.$confirm(\"此操作将永久删除该文件, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.$api.delProgramme(ids).then((res) => {\r\n            // console.log(res);\r\n          });\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功!\",\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`);\r\n      this.pageSize = val;\r\n      this.getSchemeList();\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页: ${val}`);\r\n      this.pageNo = val;\r\n      this.getSchemeList();\r\n    },\r\n  },\r\n  components: {},\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/newPlan.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\",\"height\":\"100%\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticStyle:{\"overflow\":\"hidden\",\"width\":\"90%\",\"margin\":\"50px auto\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"center_box\",attrs:{\"span\":6}},[_c('router-link',{staticClass:\"item_box\",attrs:{\"to\":\"/record_info\"}},[_c('div',{staticStyle:{\"overflow\":\"hidden\"}},[_c('span',{staticClass:\"item_box_text\"},[_vm._v(\"基本信息\")]),_vm._v(\" \"),_c('img',{staticClass:\"item_icon\",attrs:{\"src\":_vm.urla,\"alt\":\"\"}})])])],1),_vm._v(\" \"),_c('el-col',{staticClass:\"center_box\",attrs:{\"span\":6}},[_c('router-link',{staticClass:\"item_box\",attrs:{\"to\":\"/add_career\"}},[_c('div',{staticStyle:{\"overflow\":\"hidden\"}},[_c('span',{staticClass:\"item_box_text\"},[_vm._v(\"职业信息\")]),_vm._v(\" \"),_c('img',{staticClass:\"item_icon\",attrs:{\"src\":_vm.urlb,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('img',{staticStyle:{\"position\":\"absolute\",\"right\":\"0\"},attrs:{\"src\":require(\"../assets/jiantou.png\"),\"alt\":\"\"}})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"center_box\",attrs:{\"span\":6}},[_c('router-link',{staticClass:\"item_box\",attrs:{\"to\":\"/team_info\"}},[_c('div',{staticStyle:{\"overflow\":\"hidden\"}},[_c('span',{staticClass:\"item_box_text\"},[_vm._v(\"人员队伍信息\")]),_vm._v(\" \"),_c('img',{staticClass:\"item_icon\",attrs:{\"src\":_vm.urlc,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('img',{staticStyle:{\"position\":\"absolute\",\"right\":\"0\"},attrs:{\"src\":require(\"../assets/jiantou.png\"),\"alt\":\"\"}})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"center_box\",attrs:{\"span\":6}},[_c('router-link',{staticClass:\"item_box\",staticStyle:{\"background-color\":\"#EDEDED\"},attrs:{\"to\":\"/newPlan\"}},[_c('div',{staticStyle:{\"overflow\":\"hidden\"}},[_c('span',{staticClass:\"item_box_text\"},[_vm._v(\"方案和资料上传\")]),_vm._v(\" \"),_c('img',{staticClass:\"item_icon\",attrs:{\"src\":_vm.urld,\"alt\":\"\"}})])])],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"overflow\":\"hidden\"}},[_c('el-dropdown',{attrs:{\"trigger\":\"click\",\"size\":\"mini\"},on:{\"command\":_vm.hander}},[_c('div',{staticClass:\"button\"},[_vm._v(\"上传 \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.list),function(item,index){return _c('el-dropdown-item',{key:index,attrs:{\"command\":item.value}},[_vm._v(_vm._s(item.name))])}),1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"20px auto\",\"width\":\"100%\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.rows}},[_c('el-table-column',{attrs:{\"label\":\"名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.planName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"类别\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.certificatesType))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleUplload(scope.$index, scope.row)}}},[_vm._v(\"下载\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"page-sizes\":[5, 10, 15],\"page-size\":5,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.tableData.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bottom_box center_box\"},[_c('div',{staticStyle:{\"width\":\"300px\",\"height\":\"100%\",\"overflow\":\"hidden\"}},[_c('div',{staticClass:\"back_but\",on:{\"click\":_vm.lastStep}},[_vm._v(\"上一步\")]),_vm._v(\" \"),_c('div',{staticClass:\"back_but bottom_but_right\",on:{\"click\":_vm.add}},[_vm._v(\"提交\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top_title\"},[_vm._v(\"\\n    当前位置：职业管理-\"),_c('a',{staticStyle:{\"cursor\":\"pointer\"}},[_vm._v(\"我的职业\")]),_vm._v(\"-方案\\n  \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e97b8452\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/newPlan.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e97b8452\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./newPlan.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./newPlan.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./newPlan.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e97b8452\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./newPlan.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e97b8452\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/newPlan.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}