webpackJsonp([37],{J7jj:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=e("2sCs"),a=e.n(l),n=(e("EP0S"),e("eMUZ"),{created:function(){this.get_list(this.page)},data:function(){return{type1_id:null,tableData:[],value:"",dialogVisible:!1,edit_id:null,title:"",radio1:"一级分类",page:1}},methods:{edit:function(t,i){this.radio1=0==i?"一级分类":"二级分类",this.value=t.icon,this.title=t.title,this.dialogVisible=!0,this.edit_id=t.id,this.type1_id=t.type1_id},del:function(t,i){var e=this,l={};l=1==i?{del_id:t.id}:{type1_id_del:t.id},this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.a.post("/jclc_type1",l).then(function(t){200==t.data.code?e.get_list(e.page):e.$message.error("操作失败")})}).catch(function(){})},sub:function(){var t=this,i={title:this.title};this.edit_id?i.edit_id=this.edit_id:i.add="add","二级分类"==this.radio1&&(i.type1_id=this.type1_id,i.icon=this.value),a.a.post("/jclc_type1",i).then(function(i){t.edit_id=null,t.dialogVisible=!1,t.get_list(t.page)})},handleCurrentChange:function(t){this.get_list(t)},exportExcel:function(){this.dialogVisible=!0,this.edit_id=null,this.type1_id=null,this.title=null,this.icon=null},get_list:function(t){var i=this;a.a.post("/jclc_type1",{query:"query",page:t}).then(function(t){i.tableData=t.data.data})},handleAvatarSuccess:function(t,i){this.value=t}}}),s={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticStyle:{padding:"2%"}},[e("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:t.exportExcel}},[t._v("新增检查流程")]),t._v(" "),e("div",{staticStyle:{"margin-top":"4%"}},t._l(t.tableData,function(i){return e("div",[e("el-alert",{staticStyle:{"margin-top":"10px"},attrs:{type:"success",closable:!1}},[e("div",{staticStyle:{width:"100%",height:"100%"}},[e("p",{staticStyle:{float:"left",width:"50px"}},[t._v(t._s(i.title))]),t._v(" "),e("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.del(i,1)}}},[t._v("删除")]),t._v(" "),e("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.edit(i,0)}}},[t._v("编辑")])],1)]),t._v(" "),t._l(i.list,function(i){return e("el-alert",{staticStyle:{"margin-top":"10px","margin-left":"20px"},attrs:{type:"warning",closable:!1}},[e("div",{staticStyle:{width:"100%",height:"100%"}},[e("p",{staticStyle:{float:"left",width:"50px"}},[t._v(t._s(i.title))]),t._v(" "),e("img",{staticStyle:{float:"left",width:"50px",height:"50px"},attrs:{src:"/public/static/img/"+i.icon,alt:""}}),t._v(" "),e("el-button",{staticStyle:{float:"right","margin-top":"10px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.del(i,2)}}},[t._v("删除")]),t._v(" "),e("el-button",{staticStyle:{float:"right","margin-top":"10px","margin-right":"10px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.edit(i,1)}}},[t._v("编辑")]),t._v(" "),e("router-link",{attrs:{to:"/jclc_html?id="+i.id+"&state=0"}},[e("el-button",{staticStyle:{float:"right","margin-top":"10px","margin-right":"5px"},attrs:{type:"primary",size:"mini"}},[t._v("住院部")])],1),t._v(" "),e("router-link",{attrs:{to:"/jclc_html?id="+i.id+"&state=1"}},[e("el-button",{staticStyle:{float:"right","margin-top":"10px","margin-right":"5px"},attrs:{type:"primary",size:"mini"}},[t._v("门诊")])],1)],1)])})],2)}),0),t._v(" "),e("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("el-radio-group",{model:{value:t.radio1,callback:function(i){t.radio1=i},expression:"radio1"}},[t.edit_id&&t.type1_id?t._e():e("el-radio-button",{attrs:{label:"一级分类"}}),t._v(" "),t.edit_id&&null==t.type1_id?t._e():e("el-radio-button",{attrs:{label:"二级分类"}})],1),t._v(" "),"二级分类"==t.radio1?e("el-upload",{staticClass:"avatar-uploader",staticStyle:{"margin-top":"20px"},attrs:{action:"/uploadsFile",name:"file","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[t.value?e("img",{staticClass:"avatar",attrs:{src:"/public/static/img/"+t.value}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]):t._e(),t._v(" "),e("div",["二级分类"==t.radio1?e("el-select",{staticStyle:{width:"300px","margin-top":"20px"},attrs:{placeholder:"请选择"},model:{value:t.type1_id,callback:function(i){t.type1_id=i},expression:"type1_id"}},t._l(t.tableData,function(t){return e("el-option",{key:t.title,attrs:{label:t.title,value:t.id}})}),1):t._e()],1),t._v(" "),e("el-input",{staticStyle:{width:"300px","margin-top":"20px",display:"block"},attrs:{placeholder:"请输入分类标题"},model:{value:t.title,callback:function(i){t.title=i},expression:"title"}}),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=e("C7Lr")(n,s,!1,function(t){e("r9j8")},null,null);i.default=r.exports},r9j8:function(t,i){}});
//# sourceMappingURL=37.e3aeb2a2aa2e7426d87e.js.map