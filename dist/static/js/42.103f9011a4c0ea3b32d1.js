webpackJsonp([42],{Luci:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"Login",data:function(){return{loginForm:{account:"",password:"",code:""},sendText:"发送验证码",flag:!1,rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:15,message:"账号长度为3~15个字符",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:12,message:"密码长度为6~12个字符",trigger:"change"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"密码长度为6个字符",trigger:"change"}]},isClose:!0}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("表单填写错误"),!1;t.$api.login({userName:t.loginForm.account,passWord:t.loginForm.password}).then(function(e){0===e.code?(t.$message.success(e.msg),sessionStorage.setItem("token",e.data.token),localStorage.setItem("user",e.data.realName),t.$router.push("/type")):1===e.code&&t.$message.error(e.msg)})})},sendCode:function(){var e=this;this.flag=!0;var t=60,o=setInterval(function(){t-=1,e.sendText=t+"重新发送",0===t&&(clearInterval(o),e.flag=!1,e.sendText="发送验证码")},1e3)}},created:function(){}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("div",{staticClass:"login_item"},[o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.rules,"status-icon":"","label-width":"100px",size:"medium"}},[o("h1",[e._v("四川省职业技能等级认定申报系统")]),e._v(" "),o("el-form-item",{attrs:{prop:"account"}},[o("el-input",{attrs:{placeholder:"请输入账户","suffix-icon":"iconfont icon-icon-"},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),o("el-form-item",{staticClass:"code"},[o("el-input",{staticClass:"code_text",attrs:{placeholder:"请输入验证码",maxlength:"6"},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),e._v(" "),o("el-button",{attrs:{type:"primary",disabled:e.flag},on:{click:e.sendCode}},[e._v(e._s(e.sendText))])],1),e._v(" "),o("el-form-item",[o("el-button",{staticClass:"c_login",attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("点击登录")])],1),e._v(" "),o("el-form-item",{staticStyle:{cursor:"pointer"}},[o("p",[e._v("忘记密码？")])])],1),e._v(" "),o("div")],1)])},staticRenderFns:[]};var a=o("C7Lr")(s,r,!1,function(e){o("j+22")},"data-v-1a802fca",null);t.default=a.exports},"j+22":function(e,t){}});
//# sourceMappingURL=42.103f9011a4c0ea3b32d1.js.map